@model Zazzo.ChoresWizard2000.Models.ChoreAssignment
@{
    ViewData["Title"] = "Reassign Chore";
}

<h2>‚úèÔ∏è Reassign Chore</h2>

<div class="card mb-4">
    <div class="card-header">
        <strong>@Model.Chore?.Name</strong>
    </div>
    <div class="card-body">
        @if (!string.IsNullOrWhiteSpace(Model.Chore?.Description))
        {
            <p class="card-text">@Model.Chore.Description</p>
        }
        <p class="card-text">
            <span class="badge bg-secondary">@Model.Chore?.Frequency</span>
            @if (!string.IsNullOrWhiteSpace(Model.Chore?.Category))
            {
                <span class="badge bg-info ms-1">@Model.Chore.Category</span>
            }
        </p>
        @if (Model.Chore?.PinnedToFamilyMemberId.HasValue == true)
        {
            <div class="alert alert-warning mb-0">
                <small>üìå This chore is pinned. You can reassign it here, but the Sorting Hat will assign it to the pinned person next month.</small>
            </div>
        }
    </div>
</div>

<form asp-action="Edit" method="post">
    @Html.AntiForgeryToken()
    <input type="hidden" name="id" value="@Model.Id" />
    
    <div class="form-group mb-3">
        <label class="form-label"><strong>Assign to:</strong></label>
        <select name="FamilyMemberId" class="form-control form-select" required>
            @foreach (SelectListItem item in ViewBag.FamilyMembers)
            {
                <option value="@item.Value" selected="@item.Selected">@item.Text</option>
            }
        </select>
    </div>
    
    <div class="form-group mt-3">
        <button type="submit" class="btn btn-primary">üíæ Save Assignment</button>
        <a asp-action="Index" class="btn btn-secondary">Cancel</a>
    </div>
</form>
